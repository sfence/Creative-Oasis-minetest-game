name: GitHub â†’ Discord Notifications

on:
  push:
  pull_request:
  issues:
  release:

jobs:
  notify:
    runs-on: ubuntu-latest

    steps:
      - name: Send notification to Discord
        run: |
          EVENT_NAME="${GITHUB_EVENT_NAME}"
          REPO="${GITHUB_REPOSITORY}"
          ACTOR="${GITHUB_ACTOR}"
          ACTION="${GITHUB_EVENT_ACTION:-N/A}"

          MESSAGE="**Event:** $EVENT_NAME\n**Action:** $ACTION\n**Repository:** $REPO\n**Sender:** $ACTOR"

          curl -s -H "Content-Type: application/json" \
               -X POST \
               -d "{\"content\": \"$MESSAGE\"}" \
               "${{ secrets.DISCORD_WEBHOOK }}"
