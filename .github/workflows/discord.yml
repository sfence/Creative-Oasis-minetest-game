name: GitHub ‚Üí Discord Notify

on:
  push:
  pull_request:
  issues:
  release:
  fork:
  create:
  delete:
  watch:

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send Discord message
        uses: Ilshidur/action-discord@master
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}
          DISCORD_MESSAGE: |
            üìå **GitHub Event Notification**
            **Repository:** [${{ github.repository }}](https://github.com/${{ github.repository }})
            **Event:** ${{ github.event_name }}
            **Actor:** [${{ github.actor }}](https://github.com/${{ github.actor }})

            ${{ 
              github.event_name == 'push' && format('**Commits:**\n%s', join(github.event.commits.*.message, '\n')) || '' 
            }}

            ${{ 
              github.event_name == 'pull_request' && format('**Pull Request:** [%s](%s)', github.event.pull_request.title, github.event.pull_request.html_url) || '' 
            }}

            ${{ 
              github.event_name == 'issues' && format('**Issue:** [%s](%s)', github.event.issue.title, github.event.issue.html_url) || '' 
            }}

            ${{ 
              github.event_name == 'release' && format('**Release:** [%s](%s)', github.event.release.name, github.event.release.html_url) || '' 
            }}

            ${{ 
              github.event_name == 'fork' && format('**Forked Repo:** [%s](%s)', github.event.forkee.full_name, github.event.forkee.html_url) || '' 
            }}

            ${{ 
              github.event_name == 'watch' && format('‚≠ê %s starred the repository', github.actor) || '' 
            }}

            ${{ 
              github.event_name == 'create' && format('**Created %s:** %s', github.event.ref_type, github.event.ref) || '' 
            }}

            ${{ 
              github.event_name == 'delete' && format('**Deleted %s:** %s', github.event.ref_type, github.event.ref) || '' 
            }}
